---
import AppLayout from "../../layouts/AppLayout.astro";
import { getRelativeLocaleUrl } from "astro:i18n";
import { getTranslator } from "../../i18n";
import AccentText from "../ui/AccentText.astro";
import Link from "../ui/Link.astro";
import SectionTitle from "../ui/SectionTitle.astro";
import Button from "../ui/Button.astro";
import ContentWrapper from "../ui/ContentWrapper.astro";
import MainTitleWrapper from "../common/MainTitleWrapper.astro";
import SectionWrapper from "../common/SectionWrapper.astro";
import PixelArt from "../common/PixelArt.astro";
import ParagraphsWrapper from "../common/ParagraphsWrapper.astro";

interface Props {
  locale: string;
}

const { locale } = Astro.props;

const page = "home";

const rocketPixels = [
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 1, 1, 0, 0, 1, 1, 4, 4, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 1, 0, 1, 1, 4, 4, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 4, 0, 0, 1, 1, 0, 0, 0, 0],
  [0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 0, 0, 1, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 4, 0, 1, 1, 0, 0, 0],
  [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 4, 1, 1, 0, 0, 0, 0, 1, 4, 0, 4, 1, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 4, 1, 4, 1, 1, 0, 0, 0, 0, 1, 4, 4, 1, 1, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 4, 1, 4, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 4, 1, 4, 1, 1, 3, 3, 2, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 4, 1, 4, 1, 3, 3, 3, 3, 2, 2, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0, 0, 0, 0, 4, 1, 4, 3, 3, 3, 3, 2, 2, 2, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 0, 1, 1, 0, 0, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 0, 0, 4, 1, 1, 2, 3, 3, 3, 3, 3, 2, 2, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 0, 0, 0, 4, 1, 2, 3, 2, 3, 3, 2, 2, 2, 2, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 4, 4, 1, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 2, 2, 2, 2, 2, 2, 0, 0, 0, 2, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 2, 2, 2, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
];

const robotPixels = [
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
  [0, 0, 1, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 1, 3, 3, 4, 0, 4, 0, 0, 2, 0, 0, 0, 0, 0, 2, 0, 1, 4, 1, 0],
  [0, 1, 3, 3, 4, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 1, 3, 3, 4, 0, 4, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0],
  [0, 0, 1, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 0],
  [0, 0, 0, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 3, 0, 3, 4, 4, 4, 4, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 3, 0, 3, 4, 4, 4, 4, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 3, 0, 3, 4, 4, 4, 4, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 1, 3, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 1, 4, 1, 0, 0, 1, 4, 1, 0, 0, 0, 0, 0, 0],
  [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
];

console.log(JSON.stringify(Array.from(new Array(30), () => Array.from(new Array(21), () => 0))));

const t = getTranslator(locale);
---

<AppLayout locale={locale} currentPage={page} showHeader={true} showBottomBanner={true}>
  <ContentWrapper>
    <MainTitleWrapper id="futurizame" text="Futuriza Me" />

    <SectionWrapper class="hero">
      <SectionTitle text={t("home", "section1.title")} />

      <PixelArt class="rocket-art" pixels={rocketPixels} />
      <div class="text-wrapper">
        <AccentText
          text={t("home", "section1.paragraph1")}
          accentWords={[
            t("home", "section1.paragraph1.accent1"),
            t("home", "section1.paragraph1.accent2"),
            t("home", "section1.paragraph1.accent3"),
          ]}
        />

        <AccentText
          text={t("home", "section1.paragraph2")}
          accentWords={[
            t("home", "section1.paragraph2.accent1"),
            t("home", "section1.paragraph2.accent2"),
            t("home", "section1.paragraph2.accent3"),
          ]}
        />

        <PixelArt class="robot-art" pixels={robotPixels} />

        <AccentText
          text={t("home", "section1.paragraph3")}
          accentWords={[
            t("home", "section1.paragraph3.accent1"),
            t("home", "section1.paragraph3.accent2"),
            t("home", "section1.paragraph3.accent3"),
          ]}
        />

        <AccentText
          text={t("home", "section1.paragraph4")}
          accentWords={[
            t("home", "section1.paragraph4.accent1"),
            t("home", "section1.paragraph4.accent2"),
            t("home", "section1.paragraph4.accent3"),
            t("home", "section1.paragraph4.accent4"),
          ]}
        />

        <AccentText text={t("home", "section1.paragraph5")} accentWords={["will@futuriza.me"]} />
      </div>
    </SectionWrapper>

    <SectionWrapper>
      <div class="github">
        <Link href="https://github.com/Futurizame" target="_blank" rel="noopener noreferrer">
          <div class="github__button">
            <p>{t("home", "github.text")}</p>
            <svg width="36" height="36" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
                fill="#fff"></path>
            </svg>
          </div>
        </Link>
      </div>
    </SectionWrapper>

    <SectionWrapper>
      <div class="eye">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="256"
          height="256"
          viewBox="0 0 256 256"
          xml:space="preserve"
        >
          <g
            style="
                  stroke: none;
                  stroke-width: 0;
                  stroke-dasharray: none;
                  stroke-linecap: butt;
                  stroke-linejoin: miter;
                  stroke-miterlimit: 10;
                  fill: none;
                  fill-rule: nonzero;
                  opacity: 1;
                "
            transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"
          >
            <path
              d="M 45 73.264 c -14.869 0 -29.775 -8.864 -44.307 -26.346 c -0.924 -1.112 -0.924 -2.724 0 -3.836 C 15.225 25.601 30.131 16.737 45 16.737 c 14.868 0 29.775 8.864 44.307 26.345 c 0.925 1.112 0.925 2.724 0 3.836 C 74.775 64.399 59.868 73.264 45 73.264 z M 6.934 45 C 19.73 59.776 32.528 67.264 45 67.264 c 12.473 0 25.27 -7.487 38.066 -22.264 C 70.27 30.224 57.473 22.737 45 22.737 C 32.528 22.737 19.73 30.224 6.934 45 z"
              style="
                    stroke: none;
                    stroke-width: 1;
                    stroke-dasharray: none;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 10;
                    fill-rule: nonzero;
                    opacity: 1;
                  "
              transform=" matrix(1 0 0 1 0 0) "
              stroke-linecap="round"></path>
            <path
              d="M 45 62 c -9.374 0 -17 -7.626 -17 -17 s 7.626 -17 17 -17 s 17 7.626 17 17 S 54.374 62 45 62 z M 45 34 c -6.065 0 -11 4.935 -11 11 s 4.935 11 11 11 s 11 -4.935 11 -11 S 51.065 34 45 34 z"
              style="
                    stroke: none;
                    stroke-width: 1;
                    stroke-dasharray: none;
                    stroke-linecap: butt;
                    stroke-linejoin: miter;
                    stroke-miterlimit: 10;
                    fill-rule: nonzero;
                    opacity: 1;
                  "
              transform=" matrix(1 0 0 1 0 0) "
              stroke-linecap="round"></path>
          </g>
        </svg>

        <Link href={getRelativeLocaleUrl(locale, t("routes", "eye"))}>
          {t("home", "eye.text")}
        </Link>
      </div>
    </SectionWrapper>

    <SectionWrapper>
      <ParagraphsWrapper style="align-items: center; text-align: center;">
        <AccentText
          text={t("home", "section2.paragraph1")}
          accentWords={[t("home", "section2.paragraph1.accent1")]}
        />

        <AccentText
          text={t("home", "section2.paragraph2")}
          accentWords={[t("home", "section2.paragraph2.accent1")]}
        />

        <Button id="theme-button">Neon Night</Button>
      </ParagraphsWrapper>
    </SectionWrapper>
  </ContentWrapper>
</AppLayout>

<style>
  .rocket-art {
    float: right;
    padding: 16px 0 16px 16px;
    shape-outside: polygon(0% 0%, 100% 0%, 100% 100%, 50% 100%, 0% 50%);
  }

  .robot-art {
    float: left;
    padding: 16px 16px 16px 0;
  }

  .text-wrapper {
    padding-top: 16px;
  }

  :global(.text-wrapper p:not(:first-of-type)) {
    padding-top: 12px;
  }

  .github {
    display: flex;
    justify-content: center;
  }

  .github__button {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .eye {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .eye path {
    fill: var(--color-secondary);
  }
</style>

<script>
  const themeButton = document.getElementById("theme-button");
  const root = document.querySelector<HTMLElement>(":root");

  const themes = {
    neonNight: {
      background: "#0d0d0d",
      primary: "#ff1493",
      secondary: "#c29de3",
      onBackground: "#39ff14",
      onPrimary: "#cccccc",
      onSecondary: "#cccccc",
    },
    redVelvet: {
      background: "#880000",
      primary: "#499f21",
      secondary: "#c9a470",
      onBackground: "#f9e4d2",
      onPrimary: "#bd2338",
      onSecondary: "#bd2338",
    },
    sepia: {
      background: "#d6a543",
      primary: "#d5cec9",
      secondary: "#6a8a3b",
      onBackground: "#8a4a26",
      onPrimary: "#468faa",
      onSecondary: "#468faa",
    },
    bubbleGum: {
      background: "#ff6ec7",
      primary: "#a0e7ff",
      secondary: "#fff44f",
      onBackground: "#ffffff",
      onPrimary: "#633b20",
      onSecondary: "#633b20",
    },
  };

  let index = 0;
  const arr = [themes.neonNight, themes.redVelvet, themes.sepia, themes.bubbleGum];
  const titles = ["Neon Night", "Red Velvet", "Mexico Sepia", "Bubble Gum"];

  const changeColorScheme = () => {
    index = index === arr.length - 1 ? 0 : index + 1;

    const theme = arr[index];

    themeButton.textContent = titles[index];

    root.style.setProperty("--color-background", theme.background);
    root.style.setProperty("--color-primary", theme.primary);
    root.style.setProperty("--color-secondary", theme.secondary);
    root.style.setProperty("--color-on-background", theme.onBackground);
    root.style.setProperty("--color-on-primary", theme.onPrimary);
    root.style.setProperty("--color-on-secondary", theme.onSecondary);
  };

  themeButton.addEventListener("click", changeColorScheme);
</script>
